import { NextSeo } from 'next-seo';
import Layout from 'components/Layout';
import Image from 'components/Image';
import FullWidth from 'components/md/FullWidth';
import Title from 'components/md/Title';
import Paragraph from 'components/md/Paragraph';
import Header from 'components/md/Header';
import TwoColumns from 'components/md/TwoColumns';
import RegularWidth from 'components/md/RegularWidth';
import Caption from 'components/md/Caption';
import { getAllImage } from 'utils/image';
import rootMeta from 'meta.json';

export const meta = {
	slug: 'uber',
	name: 'Uber',
	category: ['Analytics', 'SaaS', 'Web'],
	description:
		'An immersive online academy that enables you to launch a career in cyber security.',
	sub: 'Branding, web design & development',
	year: 2021,
	preview: '02',
	width: 'half',
	order: 2,
	gradientFrom: '#92BFC2',
	gradientTo: '#D0D0C7',
};

export async function getStaticProps() {
	const images = await getAllImage('uber');
	const { gradientFrom, gradientTo } = meta;
	for (const key in images) {
		images[key] = { ...images[key], gradientFrom, gradientTo };
	}
	const ogImage =
		(process.env.HOST || '') + '/images/home/' + meta.preview + '.png';
	const title = rootMeta.name + ' | ' + meta.name;
	return { props: { images, ...meta, title, ogImage } };
}

export default ({ children }) => (
	<Layout title={meta.name} p="2xl:t-8">
		{children}
	</Layout>
);

<NextSeo
	title={props.title}
	description={props.description}
	openGraph={{
		title: props.title,
		description: props.description,
		images: [
			{
				url: props.ogImage,
				alt: props.title,
				type: 'png',
			},
		],
	}}
/>

<Title text="An alert framework for global live ops." sub="UberEats 2020" />

<FullWidth>
	<Image {...props.images['01']} />
</FullWidth>

<RegularWidth>
	<Paragraph>
		Terra is UberEats’ marketplace real-time monitoring tool used by global Live
		Ops to manage our global marketplace dynamics. When there is an imbalance in
		supply and demand (a sudden spike in demand, for example), ops teams can
		pull various levers that help balance the marketplace in real-time.
	</Paragraph>
</RegularWidth>

<Header>1 — The new feature</Header>

<RegularWidth>
	<Image {...props.images['02']} />
</RegularWidth>

<RegularWidth>
	<Paragraph>
		We designed and developed a new activity and alert framework within Terra
		that gave UberEats Live Ops team timely alerts and full context of global
		marketplace dynamics. This new feature led to:
	</Paragraph>
</RegularWidth>

<RegularWidth>
	<div className="flex justify-center font-worksans px-5 lg:py-10 lg:flex-row lg:px-0">
		<div className="lg:flex lg:gap-5">
			<div className="flex gap-6">
				<div className="w-16 h-16">
					<Image {...props.images['arrow_up']} />
				</div>
				<ul>
					<li className="font-medium mb-5 text-4xl lg:text-6xl">25%</li>
					<li className="opacity-50 lg:text-xl">Agents productivity</li>
				</ul>
			</div>
			<div className="flex gap-6">
				<div className="w-16 h-16">
					<Image {...props.images['arrow_down']} />
				</div>
				<ul>
					<li className="font-medium mb-5 text-4xl lg:text-6xl">15m</li>
					<li className="opacity-50 lg:text-xl">Alerts resolvement time</li>
				</ul>
			</div>
		</div>
	</div>
</RegularWidth>

<Header>2 — The challenge</Header>

<RegularWidth>
	<Image {...props.images['03']} />
</RegularWidth>

<RegularWidth>
	<div className="font-worksans flex flex-col gap-5 py-10 px-5 lg:gap-10 lg:mb-5 lg:py-20 lg:grid lg:grid-cols-12 lg:px-0">
		<div className="lg:text-xl lg:font-medium lg:col-start-2 lg:col-span-4">
			<div className="lg:mb-3">
				There was not a centralized place to view actions taken to manage the
				marketplace.
			</div>
			<div>
				Ops needed multiple tools to understand what was happening in the
				marketplace:
			</div>
		</div>
		<div className="lg:col-start-7 lg:col-span-5 lg:text-base">
			<div className="bg-white bg-opacity-10 p-5 rounded-xl mb-5">
				<h3 className="font-bold lg:mb-3">Gchat bot</h3>
				<p className="font-medium">
					Ops built a bot that share real-time alerts in Gchat. However, this
					chat does not give agents full context of the marketplace dynamics.
				</p>
			</div>
			<div className="bg-white bg-opacity-10 p-5 rounded-xl mb-5">
				<h3 className="font-bold lg:mb-3">Klaxon web app</h3>
				<p className="font-medium">
					Independent app that stores global marketplace real-time alerts, which
					does not provide any context about marketplace health.
				</p>
			</div>
			<div className="bg-white bg-opacity-10 p-5 rounded-xl">
				<h3 className="font-bold lg:mb-3">Ops activity query</h3>
				<p className="font-medium">
					Terra logs all actions taken and state of the market at the time.
					However, this is only available in a database that must be queried
					externally and on an ad hoc basis.
				</p>
			</div>
		</div>
	</div>
</RegularWidth>

<RegularWidth>
	<Image {...props.images['04']} />
</RegularWidth>

<Header>3 — User research</Header>

<RegularWidth>
	<div className="font-worksans px-5 mb-10 lg:mb-20 lg:px-0 lg:grid lg:grid-cols-12 lg:gap-5">
		<div className="border-opacity-20 border border-light-gray rounded-lg p-5 lg:p-10 lg:col-span-10 lg:col-start-2">
			<div className="pb-10 flex border-b border-s-light-gray flex-col lg:flex-row">
				<Image
					{...props.images['A01']}
					noRound
					className="mr-10 rounded-full w-32 h-32 mb-4 lg:mb-0"
				/>
				<div className="lg:ml-10">
					<h3 className="font-bold mb-4 text-2xl">Sam - Ops Manager</h3>
					<p className="font-medium lg:w-7/12">
						Ensure consistent supply and demand across Eats marketplace through
						continuous analytical assessment and intervention. Manage a team of
						COEs.
					</p>
				</div>
			</div>
			<div className="flex pt-10 flex-col lg:flex-row">
				<div className="lg:w-6/12 lg:pr-4">
					<h4 className="font-bold leading-5 mb-4">Tasks & Responsibilities</h4>
					<ul className="text-sm">
						<li className="mb-2">
							• Use Terra once a week for reviewing and reportingpurposes.
						</li>
						<li className="mb-2">
							• Help COE agents when serious issues arise, or when COE agents
							request to review their work
						</li>
						<li>• Run queries once a week to review COE performance</li>
					</ul>
				</div>
				<div className="lg:w-6/12 lg:pl-4">
					<h4 className="font-bold leading-5 mb-4">Core needs</h4>
					<ul className="text-sm">
						<li className="mb-2">
							• Comprehensive picture of Marketplace health and COEs’ actions.
							Data is real-time so historical metrics are crucial in his
							evaluation of team performance.
						</li>
						<li>
							• Deeply care about COE agents responsiveness to alerts and the
							results of their actions
						</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	<div className="font-worksans px-5 mb-10 lg:mb-20 lg:px-0 lg:grid lg:grid-cols-12 lg:gap-5">
		<div className="border-opacity-20 border border-light-gray rounded-lg p-5 lg:p-10 lg:col-span-10 lg:col-start-2">
			<div className="pb-10 flex border-b border-s-light-gray flex-col lg:flex-row">
				<Image
					{...props.images['A02']}
					noRound
					className="mr-10 rounded-full w-32 h-32 mb-4 lg:mb-0"
				/>
				<div className="lg:ml-10">
					<h3 className="font-bold mb-4 text-2xl">
						Peter - Center of Excellence agent
					</h3>
					<p className="font-medium lg:w-7/12">
						Monitor the Marketplace in real-time and resolve when problems
						arise. If the problem is serious, escalate to Ops managers.
					</p>
				</div>
			</div>
			<div className="flex pt-10 flex-col lg:flex-row">
				<div className="lg:w-6/12 lg:pr-4">
					<h4 className="font-bold leading-5 mb-4">Tasks & Responsibilities</h4>
					<ul className="text-sm">
						<li className="mb-2">
							• Use Terra daily for marketplace monitoring
						</li>
						<li className="mb-2">
							• Depending on level of autonomy, fix problems when they arise
						</li>
						<li>• For serious issues, escalate to Ops Managers</li>
					</ul>
				</div>
				<div className="lg:w-6/12 lg:pl-4">
					<h4 className="font-bold leading-5 mb-4">Core needs</h4>
					<ul className="text-sm">
						<li className="mb-2">• Monitor the latest alerts in real-time</li>
						<li className="mb-2">
							• Avoid duplicated efforts by having insights into his team’s work
							progress
						</li>
						<li>
							• The ability to communicate to his team when special
							circumstances happen that they decided to do something out of the
							norm
						</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
</RegularWidth>

<RegularWidth>
	<Image {...props.images['05']} />
</RegularWidth>

<Header>4 — Setting goals</Header>

<RegularWidth>
	<Image {...props.images['06']} />
</RegularWidth>

<RegularWidth>
	<Image {...props.images['07']} />
</RegularWidth>

<RegularWidth>
	<div className="flex justify-center font-worksans px-5 pt-10 lg:pt-20 lg:px-0">
		<div>
			<div className="flex mb-5 items-center gap-10">
				<div className="w-10 h-10">
					<Image {...props.images['arrow_up']} />
				</div>
				<h3 className="font-bold text-4xl">
					User adoption: 7-day active users
				</h3>
			</div>
			<div className="flex mb-5 items-center gap-10">
				<div className="w-10 h-10">
					<Image {...props.images['arrow_down']} />
				</div>
				<h3 className="font-bold text-4xl">Time to alerts resolvement</h3>
			</div>
			<div className="flex mb-5 items-center gap-10">
				<div className="w-10 h-10">
					<Image {...props.images['arrow_up']} />
				</div>
				<h3 className="font-bold text-4xl"># of markets per agent</h3>
			</div>
			<div className="flex mb-5 items-center gap-10">
				<div className="w-10 h-10">
					<Image {...props.images['arrow_up']} />
				</div>
				<h3 className="font-bold text-4xl"># of markets per agent</h3>
			</div>
		</div>
	</div>
</RegularWidth>

<Header>5 — The solutions</Header>

<RegularWidth>
	<Image {...props.images['08']} />
</RegularWidth>

<RegularWidth>
	<Caption>
		We streamlined the workflow by removing the dependency on Klaxon. This
		helped conslidate the number of steps because agents have full context of
		marketplace dynamics within Terra. Team communication is streamlined since
		agents have visibility over who works on which tasks.
	</Caption>
</RegularWidth>

<RegularWidth>
	<Image {...props.images['09']} />
</RegularWidth>

<RegularWidth>
	<Caption>
		Agents can filter alerts by locations, down to the country and region level.
	</Caption>
</RegularWidth>

<RegularWidth>
	<Image {...props.images['10']} />
</RegularWidth>

<RegularWidth>
	<Caption>
		Tapping on each row reveals full context of marketplace dynamics at that
		time. A graph helps ops understand how and why the alert was fired.
	</Caption>
</RegularWidth>

<RegularWidth>
	<Image {...props.images['11']} />
</RegularWidth>

<RegularWidth>
	<Caption>
		On Activity tab, Ops managers can monitor team performance at any time.
		There’s no need to run hours long query anymore. Terra highlights actions
		that go against AI’s recommendations to make it easier for managers to
		inspect special cases.
	</Caption>
</RegularWidth>

<RegularWidth>
	<Image {...props.images['12']} />
</RegularWidth>

<RegularWidth>
	<Caption>
		We added alerts to the historical chart to help ops managers understand the
		relationship between alerts and market conditions.
	</Caption>
</RegularWidth>
